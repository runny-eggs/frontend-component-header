{"version":3,"file":"MobileHeader.js","names":["React","PropTypes","injectIntl","intlShape","getConfig","Menu","MenuTrigger","MenuContent","LogoSlot","MobileLoggedOutItemsSlot","mobileHeaderLoggedOutItemsDataShape","MobileMainMenuSlot","mobileHeaderMainMenuDataShape","MobileUserMenuSlot","mobileHeaderUserMenuDataShape","ThemeToggleButton","messages","MenuIcon","MobileHeader","_React$Component","props","_classCallCheck","_callSuper","_inherits","_createClass","key","value","renderMainMenu","_this$props","mainMenu","secondaryMenu","createElement","menu","concat","_toConsumableArray","renderUserMenuItems","userMenu","renderLoggedOutItems","loggedOutItems","items","render","_this$props2","logo","logoAltText","logoDestination","loggedIn","stickyOnMobile","intl","logoProps","src","alt","href","stickyClassName","logoClasses","AUTHN_MINIMAL_HEADER","formatMessage","className","length","tag","title","role","focusable","style","width","height","_extends","itemType","Component","mobileHeaderDataShape","string","avatar","username","bool","propTypes","isRequired","defaultProps"],"sources":["../../src/mobile-header/MobileHeader.jsx"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { injectIntl, intlShape } from '@edx/frontend-platform/i18n';\nimport { getConfig } from '@edx/frontend-platform';\n\n// Local Components\nimport { Menu, MenuTrigger, MenuContent } from '../Menu';\nimport LogoSlot from '../plugin-slots/LogoSlot';\nimport MobileLoggedOutItemsSlot from '../plugin-slots/MobileLoggedOutItemsSlot';\nimport { mobileHeaderLoggedOutItemsDataShape } from './MobileLoggedOutItems';\nimport MobileMainMenuSlot from '../plugin-slots/MobileMainMenuSlot';\nimport { mobileHeaderMainMenuDataShape } from './MobileHeaderMainMenu';\nimport MobileUserMenuSlot from '../plugin-slots/MobileUserMenuSlot';\nimport { mobileHeaderUserMenuDataShape } from './MobileHeaderUserMenu';\nimport ThemeToggleButton from '../ThemeToggleButton';\n\n// i18n\nimport messages from '../Header.messages';\n\n// Assets\nimport { MenuIcon } from '../Icons';\n\nclass MobileHeader extends React.Component {\n  constructor(props) { // eslint-disable-line no-useless-constructor\n    super(props);\n  }\n\n  renderMainMenu() {\n    const { mainMenu, secondaryMenu } = this.props;\n    return <MobileMainMenuSlot menu={[...mainMenu, ...secondaryMenu]} />;\n  }\n\n  renderUserMenuItems() {\n    const { userMenu } = this.props;\n    return <MobileUserMenuSlot menu={userMenu} />;\n  }\n\n  renderLoggedOutItems() {\n    const { loggedOutItems } = this.props;\n    return <MobileLoggedOutItemsSlot items={loggedOutItems} />;\n  }\n\n  render() {\n    const {\n      logo,\n      logoAltText,\n      logoDestination,\n      loggedIn,\n      stickyOnMobile,\n      intl,\n      mainMenu,\n      userMenu,\n      loggedOutItems,\n    } = this.props;\n    const logoProps = { src: logo, alt: logoAltText, href: logoDestination };\n    const stickyClassName = stickyOnMobile ? 'sticky-top' : '';\n    const logoClasses = getConfig().AUTHN_MINIMAL_HEADER ? 'justify-content-left pl-3' : 'justify-content-center';\n\n    return (\n      <header\n        aria-label={intl.formatMessage(messages['header.label.main.header'])}\n        className={`site-header-mobile d-flex justify-content-between align-items-center shadow ${stickyClassName}`}\n      >\n        <a className=\"nav-skip sr-only sr-only-focusable\" href=\"#main\">{intl.formatMessage(messages['header.label.skip.nav'])}</a>\n        {mainMenu.length > 0 ? (\n          <div className=\"w-100 d-flex justify-content-start sr-only\">\n\n            <Menu className=\"position-static\">\n              <MenuTrigger\n                tag=\"button\"\n                className=\"icon-button\"\n                aria-label={intl.formatMessage(messages['header.label.main.menu'])}\n                title={intl.formatMessage(messages['header.label.main.menu'])}\n              >\n                <MenuIcon role=\"img\" aria-hidden focusable=\"false\" style={{ width: '1.5rem', height: '1.5rem' }} />\n              </MenuTrigger>\n              <MenuContent\n                tag=\"nav\"\n                aria-label={intl.formatMessage(messages['header.label.main.nav'])}\n                className=\"nav flex-column pin-left pin-right border-top shadow py-2\"\n              >\n                {this.renderMainMenu()}\n              </MenuContent>\n            </Menu>\n          </div>\n        ) : null}\n        <div className={`logo-holder w-100 ${logoClasses}`}>\n          <LogoSlot {...logoProps} itemType=\"http://schema.org/Organization\" />\n        </div>\n        <ThemeToggleButton />\n        {userMenu.length > 0 || loggedOutItems.length > 0 ? (\n          <div className=\"mobile-menu\">\n            <Menu tag=\"nav\" aria-label={intl.formatMessage(messages['header.label.secondary.nav'])} className=\"position-static\">\n              <MenuTrigger\n                tag=\"button\"\n                aria-label={intl.formatMessage(messages['header.label.account.menu'])}\n                title={intl.formatMessage(messages['header.label.account.menu'])}\n              >\n                <div className=\"hamburger-menu\">\n                  <span className=\"line\" />\n                  <span className=\"line\" />\n                  <span className=\"line\" />\n                  <span className=\"line\" />\n                </div>\n              </MenuTrigger>\n              <MenuContent tag=\"ul\" className=\"nav flex-column pin-left pin-right border-top shadow py-2\">\n                {loggedIn ? this.renderUserMenuItems() : this.renderLoggedOutItems()}\n              </MenuContent>\n            </Menu>\n          </div>\n        ) : null}\n      </header>\n    );\n  }\n}\n\nexport const mobileHeaderDataShape = {\n  mainMenu: mobileHeaderMainMenuDataShape,\n  secondaryMenu: mobileHeaderMainMenuDataShape,\n  userMenu: mobileHeaderUserMenuDataShape,\n  loggedOutItems: mobileHeaderLoggedOutItemsDataShape,\n  logo: PropTypes.string,\n  logoAltText: PropTypes.string,\n  logoDestination: PropTypes.string,\n  avatar: PropTypes.string,\n  username: PropTypes.string,\n  loggedIn: PropTypes.bool,\n  stickyOnMobile: PropTypes.bool,\n};\n\nMobileHeader.propTypes = {\n  mainMenu: mobileHeaderDataShape.mainMenu,\n  secondaryMenu: mobileHeaderDataShape.secondaryMenu,\n  userMenu: mobileHeaderDataShape.userMenu,\n  loggedOutItems: mobileHeaderDataShape.loggedOutItems,\n  logo: mobileHeaderDataShape.logo,\n  logoAltText: mobileHeaderDataShape.logoAltText,\n  logoDestination: mobileHeaderDataShape.logoDestination,\n  avatar: mobileHeaderDataShape.avatar,\n  username: mobileHeaderDataShape.username,\n  loggedIn: mobileHeaderDataShape.loggedIn,\n  stickyOnMobile: mobileHeaderDataShape.stickyOnMobile,\n\n  // i18n\n  intl: intlShape.isRequired,\n};\n\nMobileHeader.defaultProps = {\n  mainMenu: [],\n  secondaryMenu: [],\n  userMenu: [],\n  loggedOutItems: [],\n  logo: null,\n  logoAltText: null,\n  logoDestination: null,\n  avatar: null,\n  username: null,\n  loggedIn: false,\n  stickyOnMobile: true,\n\n};\n\nexport default injectIntl(MobileHeader);\n"],"mappings":"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","ignoreList":[]}